<section id="movie-view" class="mainbar">
  <br />
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-4">
        <img src="{{vm.movie.poster_path | poster}}" style="width: 100%; height: 100%" />
      </div>
      <div class="col-md-6">
        <h2>{{vm.movie.title}} ({{vm.movie.release_date.split('-')[0]}})</h2>
      </div>
      <div class="col-md-4">
        <h3>Overview</h3>
        <p>
          {{vm.movie.overview}}
        </p>
        <br />
        <div class="row">
          <div class="col-md-4">
            <h4>Popularity: </h4>
            <p>
              {{vm.movie.popularity | number:3}}
            </p>
          </div>
          <div class="col-md-5">
            <h4>Average User Rating: </h4>
            <p>
              {{vm.movie.rating_average}}/10
            </p>
          </div>
          <div class="col-md-3">
            <h4>Rating Count: </h4>
            <p>
              {{vm.movie.rating_count}}
            </p>
          </div>
          <br />
          <div class="col-md-4">
            <h4>Genre(s): </h4>
            <p ng-repeat="g in vm.movie.genres">
              {{g.name}}
            </p>
          </div>
          <div class="col-md-5">
            <h4>Featured Crew: </h4>
            <p ng-repeat="c in vm.featuredCrew">
              {{c.name}}, {{c.job}}
            </p>
          </div>
        </div>
      </div>
      <div class="col-md-2">
        <h4>Budget</h4>
        <p>
          {{vm.movie.budget | currency}}
        </p>
      </div>
      <div class="col-md-2">
        <h4>Revenue</h4>
        <p>
          {{vm.movie.revenue | currency}}
        </p>
      </div>
      <div class="col-md-2">
        <h4>Release Date: </h4>
        <p>
          {{vm.movie.release_date}}
        </p>
      </div>
      <div class="col-md-2">
        <h4>Runtime: </h4>
        <p>
          {{vm.movie.run_time}} min
        </p>
      </div>
    </div>
    </div>
    <hr />
    <div class="container-fluid">
      <div class="row" style="text-align: center;">
        <h2>Similar Movies</h2>
      </div>
      <div class="row">
        <div class="col-md-2" ng-repeat="movie in vm.similarMovies" ng-click="vm.goToMovieDetail(movie.movie_id)" style="text-align: center; cursor:pointer">
          {{movie.title}}
          <img src="{{movie.poster_path | poster}}" style="width: 95%; height: 95%;"/>
        </div>
      </div>
    </div>
    <hr />
    <div class="container-fluid" ng-repeat="dir in vm.moviesByDirectors" ng-if="vm.moviesByDirectors[0].movies.length > 0">
      <div class="row" style="text-align: center;">
        <h2>More By {{dir.name}}</h2>
      </div>
      <div class="row">
        <div class="col-md-2" ng-repeat="movie in dir.movies" ng-click="vm.goToMovieDetail(movie.movie_id)" style="text-align: center; cursor:pointer">
          {{movie.title}}
          <img src="{{movie.poster_path | poster}}" style="width: 95%; height: 95%;"/>
        </div>
      </div>
    </div>
    <hr />
    <div class="container-fluid">
      <div class="row">
        <h3 class="col-md-6" style="text-align:center;">Cast ({{vm.movie.cast.length}})</h3>
        <h3 class="col-md-6" style="text-align:center;">Crew ({{vm.movie.crew.length}})</h3>
      </div>
      <div class="row">
        <div class="col-md-6">
          <custom-table data="vm.movie.cast" columns="vm.castColumns" search="true" poster="false"></custom-table>
        </div>
        <div class="col-md-6">
          <custom-table data="vm.movie.crew" columns="vm.crewColumns" search="true" poster="false"></custom-table>
        </div>
      </div>
    </div>
  </div>
</section>
